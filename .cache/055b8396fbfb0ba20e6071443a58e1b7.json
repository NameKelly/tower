{"id":"L70R","dependencies":[{"name":"D:\\铁塔\\tower\\tower\\package.json","includedInParent":true,"mtime":1577157021496},{"name":"D:\\铁塔\\tower\\tower\\.babelrc","includedInParent":true,"mtime":1576710174364},{"name":"antd/lib/message/style/css","parent":"D:\\铁塔\\tower\\tower\\src\\helpers\\request.js","resolved":"D:\\铁塔\\tower\\tower\\node_modules\\antd\\lib\\message\\style\\css.js"},{"name":"antd/lib/message","parent":"D:\\铁塔\\tower\\tower\\src\\helpers\\request.js","resolved":"D:\\铁塔\\tower\\tower\\node_modules\\antd\\lib\\message\\index.js"},{"name":"./handle-json","loc":{"line":1,"column":23},"parent":"D:\\铁塔\\tower\\tower\\src\\helpers\\request.js","resolved":"D:\\铁塔\\tower\\tower\\src\\helpers\\handle-json.js"},{"name":"./handle-formdata","loc":{"line":2,"column":27},"parent":"D:\\铁塔\\tower\\tower\\src\\helpers\\request.js","resolved":"D:\\铁塔\\tower\\tower\\src\\helpers\\handle-formdata.js"},{"name":"./handle-urlencode","loc":{"line":3,"column":28},"parent":"D:\\铁塔\\tower\\tower\\src\\helpers\\request.js","resolved":"D:\\铁塔\\tower\\tower\\src\\helpers\\handle-urlencode.js"},{"name":"../history","loc":{"line":4,"column":20},"parent":"D:\\铁塔\\tower\\tower\\src\\helpers\\request.js","resolved":"D:\\铁塔\\tower\\tower\\src\\history.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"antd/lib/message\"),t=l(e);require(\"antd/lib/message/style/css\");var r=require(\"./handle-json\"),s=l(r),a=require(\"./handle-formdata\"),o=l(a),n=require(\"./handle-urlencode\"),d=l(n),i=require(\"../history\"),u=l(i);function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var r=e.url,a=e.method,n=void 0===a?\"POST\":a,i=e.dataType,l=void 0===i?\"json\":i,c=e.data,f=void 0===c?{}:c,p=e.success,v=void 0===p?function(){}:p,h=e.fail,m=void 0===h?function(){}:h,y=e.complete,g=void 0===y?function(){}:y;if(!r)throw new Error(\"url参数不可缺省\");var q=new XMLHttpRequest;if(\"GET\"===n)q.open(n,r+\"?\"+(0,d.default)(f)),q.send();else{q.open(n,r);var j=void 0;switch(l){case\"json\":q.setRequestHeader(\"Content-Type\",\"application/json\"),j=(0,s.default)(f);break;case\"formdata\":j=(0,o.default)(f);break;default:q.setRequestHeader(\"Content-Type\",\"application/json\"),j=(0,s.default)(f)}q.send(j)}q.onreadystatechange=function(){if(4===q.readyState){if(200===q.status){var e=JSON.parse(q.responseText),r=e.code;try{if(void 0===r)throw new Error(\"code is not defined\")}catch(t){try{e=JSON.parse(e)}catch(t){console.error(\"返回的数据不符合json格式\"),v(e)}}200===parseInt(e.code)?(\"查询成功!\"!==e.msg&&\"查询成功\"!==e.msg&&t.default.success(e.msg),v(e)):(t.default.error(e.msg),3001==e.code?(u.default.push(\"/login\"),sessionStorage.removeItem(\"user\")):m(e))}else alert(\"请求遇到了问题，请稍后再尝试\");g()}}}exports.default=c;","map":{"mappings":[{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":0}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":13}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":20}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":35}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":43}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":56}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":57}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":64}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":68}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":72}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":74}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":82}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":102}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":104}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":106}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":109}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":117}},{"source":"helpers\\request.js","original":{"line":1,"column":0},"generated":{"line":1,"column":147}},{"source":"helpers\\request.js","original":{"line":1,"column":0},"generated":{"line":1,"column":151}},{"source":"helpers\\request.js","original":{"line":1,"column":0},"generated":{"line":1,"column":153}},{"source":"helpers\\request.js","original":{"line":1,"column":0},"generated":{"line":1,"column":161}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":178}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":180}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":182}},{"source":"helpers\\request.js","original":{"line":2,"column":0},"generated":{"line":1,"column":185}},{"source":"helpers\\request.js","original":{"line":2,"column":0},"generated":{"line":1,"column":187}},{"source":"helpers\\request.js","original":{"line":2,"column":0},"generated":{"line":1,"column":195}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":216}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":218}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":220}},{"source":"helpers\\request.js","original":{"line":3,"column":0},"generated":{"line":1,"column":223}},{"source":"helpers\\request.js","original":{"line":3,"column":0},"generated":{"line":1,"column":225}},{"source":"helpers\\request.js","original":{"line":3,"column":0},"generated":{"line":1,"column":233}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":255}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":257}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":259}},{"source":"helpers\\request.js","original":{"line":4,"column":0},"generated":{"line":1,"column":262}},{"source":"helpers\\request.js","original":{"line":4,"column":0},"generated":{"line":1,"column":264}},{"source":"helpers\\request.js","original":{"line":4,"column":0},"generated":{"line":1,"column":272}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":286}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":288}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":290}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":293}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":302}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":304}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":307}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":314}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":317}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":319}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":330}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":332}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":333}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":341}},{"source":"helpers\\request.js","original":{"line":7,"column":0},"generated":{"line":1,"column":344}},{"source":"helpers\\request.js","name":"request","original":{"line":7,"column":9},"generated":{"line":1,"column":353}},{"source":"helpers\\request.js","original":{"line":7,"column":134},"generated":{"line":1,"column":355}},{"source":"helpers\\request.js","name":"url","original":{"line":7,"column":19},"generated":{"line":1,"column":358}},{"source":"helpers\\request.js","name":"url","original":{"line":7,"column":19},"generated":{"line":1,"column":362}},{"source":"helpers\\request.js","name":"url","original":{"line":7,"column":19},"generated":{"line":1,"column":364}},{"source":"helpers\\request.js","name":"url","original":{"line":7,"column":19},"generated":{"line":1,"column":366}},{"source":"helpers\\request.js","name":"method","original":{"line":7,"column":24},"generated":{"line":1,"column":370}},{"source":"helpers\\request.js","name":"method","original":{"line":7,"column":24},"generated":{"line":1,"column":372}},{"source":"helpers\\request.js","name":"method","original":{"line":7,"column":24},"generated":{"line":1,"column":374}},{"source":"helpers\\request.js","name":"method","original":{"line":7,"column":24},"generated":{"line":1,"column":381}},{"source":"helpers\\request.js","original":{"line":7,"column":33},"generated":{"line":1,"column":388}},{"source":"helpers\\request.js","original":{"line":7,"column":33},"generated":{"line":1,"column":392}},{"source":"helpers\\request.js","original":{"line":7,"column":33},"generated":{"line":1,"column":394}},{"source":"helpers\\request.js","original":{"line":7,"column":134},"generated":{"line":1,"column":401}},{"source":"helpers\\request.js","name":"dataType","original":{"line":7,"column":41},"generated":{"line":1,"column":403}},{"source":"helpers\\request.js","name":"dataType","original":{"line":7,"column":41},"generated":{"line":1,"column":405}},{"source":"helpers\\request.js","name":"dataType","original":{"line":7,"column":41},"generated":{"line":1,"column":407}},{"source":"helpers\\request.js","name":"dataType","original":{"line":7,"column":41},"generated":{"line":1,"column":416}},{"source":"helpers\\request.js","original":{"line":7,"column":52},"generated":{"line":1,"column":423}},{"source":"helpers\\request.js","original":{"line":7,"column":52},"generated":{"line":1,"column":427}},{"source":"helpers\\request.js","original":{"line":7,"column":52},"generated":{"line":1,"column":429}},{"source":"helpers\\request.js","original":{"line":7,"column":134},"generated":{"line":1,"column":436}},{"source":"helpers\\request.js","name":"data","original":{"line":7,"column":60},"generated":{"line":1,"column":438}},{"source":"helpers\\request.js","name":"data","original":{"line":7,"column":60},"generated":{"line":1,"column":440}},{"source":"helpers\\request.js","name":"data","original":{"line":7,"column":60},"generated":{"line":1,"column":442}},{"source":"helpers\\request.js","name":"data","original":{"line":7,"column":60},"generated":{"line":1,"column":447}},{"source":"helpers\\request.js","original":{"line":7,"column":67},"generated":{"line":1,"column":454}},{"source":"helpers\\request.js","original":{"line":7,"column":67},"generated":{"line":1,"column":458}},{"source":"helpers\\request.js","original":{"line":7,"column":67},"generated":{"line":1,"column":460}},{"source":"helpers\\request.js","original":{"line":7,"column":134},"generated":{"line":1,"column":463}},{"source":"helpers\\request.js","name":"success","original":{"line":7,"column":71},"generated":{"line":1,"column":465}},{"source":"helpers\\request.js","name":"success","original":{"line":7,"column":71},"generated":{"line":1,"column":467}},{"source":"helpers\\request.js","name":"success","original":{"line":7,"column":71},"generated":{"line":1,"column":469}},{"source":"helpers\\request.js","name":"success","original":{"line":7,"column":71},"generated":{"line":1,"column":477}},{"source":"helpers\\request.js","original":{"line":7,"column":81},"generated":{"line":1,"column":484}},{"source":"helpers\\request.js","original":{"line":7,"column":81},"generated":{"line":1,"column":488}},{"source":"helpers\\request.js","original":{"line":7,"column":81},"generated":{"line":1,"column":490}},{"source":"helpers\\request.js","original":{"line":7,"column":134},"generated":{"line":1,"column":503}},{"source":"helpers\\request.js","name":"fail","original":{"line":7,"column":92},"generated":{"line":1,"column":505}},{"source":"helpers\\request.js","name":"fail","original":{"line":7,"column":92},"generated":{"line":1,"column":507}},{"source":"helpers\\request.js","name":"fail","original":{"line":7,"column":92},"generated":{"line":1,"column":509}},{"source":"helpers\\request.js","name":"fail","original":{"line":7,"column":92},"generated":{"line":1,"column":514}},{"source":"helpers\\request.js","original":{"line":7,"column":99},"generated":{"line":1,"column":521}},{"source":"helpers\\request.js","original":{"line":7,"column":99},"generated":{"line":1,"column":525}},{"source":"helpers\\request.js","original":{"line":7,"column":99},"generated":{"line":1,"column":527}},{"source":"helpers\\request.js","original":{"line":7,"column":134},"generated":{"line":1,"column":540}},{"source":"helpers\\request.js","name":"complete","original":{"line":7,"column":110},"generated":{"line":1,"column":542}},{"source":"helpers\\request.js","name":"complete","original":{"line":7,"column":110},"generated":{"line":1,"column":544}},{"source":"helpers\\request.js","name":"complete","original":{"line":7,"column":110},"generated":{"line":1,"column":546}},{"source":"helpers\\request.js","name":"complete","original":{"line":7,"column":110},"generated":{"line":1,"column":555}},{"source":"helpers\\request.js","original":{"line":7,"column":121},"generated":{"line":1,"column":562}},{"source":"helpers\\request.js","original":{"line":7,"column":121},"generated":{"line":1,"column":566}},{"source":"helpers\\request.js","original":{"line":7,"column":121},"generated":{"line":1,"column":568}},{"source":"helpers\\request.js","original":{"line":7,"column":134},"generated":{"line":1,"column":581}},{"source":"helpers\\request.js","original":{"line":8,"column":5},"generated":{"line":1,"column":583}},{"source":"helpers\\request.js","name":"url","original":{"line":8,"column":6},"generated":{"line":1,"column":587}},{"source":"helpers\\request.js","original":{"line":9,"column":8},"generated":{"line":1,"column":589}},{"source":"helpers\\request.js","original":{"line":9,"column":8},"generated":{"line":1,"column":595}},{"source":"helpers\\request.js","name":"Error","original":{"line":9,"column":12},"generated":{"line":1,"column":599}},{"source":"helpers\\request.js","original":{"line":9,"column":18},"generated":{"line":1,"column":605}},{"source":"helpers\\request.js","name":"xml","original":{"line":11,"column":5},"generated":{"line":1,"column":618}},{"source":"helpers\\request.js","name":"xml","original":{"line":11,"column":5},"generated":{"line":1,"column":622}},{"source":"helpers\\request.js","original":{"line":11,"column":11},"generated":{"line":1,"column":624}},{"source":"helpers\\request.js","name":"XMLHttpRequest","original":{"line":11,"column":15},"generated":{"line":1,"column":628}},{"source":"helpers\\request.js","name":"method","original":{"line":12,"column":5},"generated":{"line":1,"column":643}},{"source":"helpers\\request.js","original":{"line":12,"column":16},"generated":{"line":1,"column":646}},{"source":"helpers\\request.js","name":"method","original":{"line":12,"column":5},"generated":{"line":1,"column":654}},{"source":"helpers\\request.js","name":"open","original":{"line":13,"column":6},"generated":{"line":1,"column":656}},{"source":"helpers\\request.js","name":"open","original":{"line":13,"column":6},"generated":{"line":1,"column":658}},{"source":"helpers\\request.js","name":"method","original":{"line":13,"column":11},"generated":{"line":1,"column":663}},{"source":"helpers\\request.js","name":"url","original":{"line":13,"column":19},"generated":{"line":1,"column":665}},{"source":"helpers\\request.js","original":{"line":13,"column":25},"generated":{"line":1,"column":667}},{"source":"helpers\\request.js","original":{"line":13,"column":31},"generated":{"line":1,"column":672}},{"source":"helpers\\request.js","name":"data","original":{"line":13,"column":47},"generated":{"line":1,"column":674}},{"source":"helpers\\request.js","name":"data","original":{"line":13,"column":47},"generated":{"line":1,"column":676}},{"source":"helpers\\request.js","name":"data","original":{"line":13,"column":47},"generated":{"line":1,"column":685}},{"source":"helpers\\request.js","name":"send","original":{"line":14,"column":6},"generated":{"line":1,"column":689}},{"source":"helpers\\request.js","name":"send","original":{"line":14,"column":6},"generated":{"line":1,"column":691}},{"source":"helpers\\request.js","original":{"line":15,"column":8},"generated":{"line":1,"column":702}},{"source":"helpers\\request.js","name":"open","original":{"line":16,"column":6},"generated":{"line":1,"column":703}},{"source":"helpers\\request.js","name":"open","original":{"line":16,"column":6},"generated":{"line":1,"column":705}},{"source":"helpers\\request.js","name":"method","original":{"line":16,"column":11},"generated":{"line":1,"column":710}},{"source":"helpers\\request.js","name":"url","original":{"line":16,"column":19},"generated":{"line":1,"column":712}},{"source":"helpers\\request.js","name":"dataData","original":{"line":17,"column":6},"generated":{"line":1,"column":715}},{"source":"helpers\\request.js","name":"dataData","original":{"line":17,"column":6},"generated":{"line":1,"column":719}},{"source":"helpers\\request.js","original":{"line":17,"column":2},"generated":{"line":1,"column":726}},{"source":"helpers\\request.js","name":"dataType","original":{"line":18,"column":10},"generated":{"line":1,"column":728}},{"source":"helpers\\request.js","name":"dataType","original":{"line":18,"column":10},"generated":{"line":1,"column":735}},{"source":"helpers\\request.js","original":{"line":19,"column":8},"generated":{"line":1,"column":738}},{"source":"helpers\\request.js","original":{"line":19,"column":8},"generated":{"line":1,"column":742}},{"source":"helpers\\request.js","name":"setRequestHeader","original":{"line":20,"column":8},"generated":{"line":1,"column":749}},{"source":"helpers\\request.js","name":"setRequestHeader","original":{"line":20,"column":8},"generated":{"line":1,"column":751}},{"source":"helpers\\request.js","original":{"line":20,"column":25},"generated":{"line":1,"column":768}},{"source":"helpers\\request.js","original":{"line":20,"column":41},"generated":{"line":1,"column":783}},{"source":"helpers\\request.js","original":{"line":21,"column":15},"generated":{"line":1,"column":803}},{"source":"helpers\\request.js","original":{"line":21,"column":15},"generated":{"line":1,"column":806}},{"source":"helpers\\request.js","name":"data","original":{"line":21,"column":26},"generated":{"line":1,"column":808}},{"source":"helpers\\request.js","name":"data","original":{"line":21,"column":26},"generated":{"line":1,"column":810}},{"source":"helpers\\request.js","name":"data","original":{"line":21,"column":26},"generated":{"line":1,"column":819}},{"source":"helpers\\request.js","original":{"line":22,"column":4},"generated":{"line":1,"column":822}},{"source":"helpers\\request.js","original":{"line":23,"column":8},"generated":{"line":1,"column":828}},{"source":"helpers\\request.js","original":{"line":23,"column":8},"generated":{"line":1,"column":832}},{"source":"helpers\\request.js","original":{"line":25,"column":15},"generated":{"line":1,"column":843}},{"source":"helpers\\request.js","original":{"line":25,"column":15},"generated":{"line":1,"column":846}},{"source":"helpers\\request.js","name":"data","original":{"line":25,"column":30},"generated":{"line":1,"column":848}},{"source":"helpers\\request.js","name":"data","original":{"line":25,"column":30},"generated":{"line":1,"column":850}},{"source":"helpers\\request.js","name":"data","original":{"line":25,"column":30},"generated":{"line":1,"column":859}},{"source":"helpers\\request.js","original":{"line":26,"column":4},"generated":{"line":1,"column":862}},{"source":"helpers\\request.js","original":{"line":27,"column":3},"generated":{"line":1,"column":868}},{"source":"helpers\\request.js","name":"setRequestHeader","original":{"line":28,"column":8},"generated":{"line":1,"column":876}},{"source":"helpers\\request.js","name":"setRequestHeader","original":{"line":28,"column":8},"generated":{"line":1,"column":878}},{"source":"helpers\\request.js","original":{"line":28,"column":25},"generated":{"line":1,"column":895}},{"source":"helpers\\request.js","original":{"line":28,"column":41},"generated":{"line":1,"column":910}},{"source":"helpers\\request.js","original":{"line":29,"column":15},"generated":{"line":1,"column":930}},{"source":"helpers\\request.js","original":{"line":29,"column":15},"generated":{"line":1,"column":933}},{"source":"helpers\\request.js","name":"data","original":{"line":29,"column":26},"generated":{"line":1,"column":935}},{"source":"helpers\\request.js","name":"data","original":{"line":29,"column":26},"generated":{"line":1,"column":937}},{"source":"helpers\\request.js","name":"data","original":{"line":29,"column":26},"generated":{"line":1,"column":946}},{"source":"helpers\\request.js","name":"send","original":{"line":31,"column":6},"generated":{"line":1,"column":949}},{"source":"helpers\\request.js","name":"send","original":{"line":31,"column":6},"generated":{"line":1,"column":951}},{"source":"helpers\\request.js","name":"dataData","original":{"line":31,"column":11},"generated":{"line":1,"column":956}},{"source":"helpers\\request.js","name":"onreadystatechange","original":{"line":33,"column":5},"generated":{"line":1,"column":959}},{"source":"helpers\\request.js","name":"onreadystatechange","original":{"line":33,"column":5},"generated":{"line":1,"column":961}},{"source":"helpers\\request.js","original":{"line":33,"column":26},"generated":{"line":1,"column":980}},{"source":"helpers\\request.js","name":"xml","original":{"line":34,"column":6},"generated":{"line":1,"column":991}},{"source":"helpers\\request.js","original":{"line":34,"column":25},"generated":{"line":1,"column":994}},{"source":"helpers\\request.js","name":"xml","original":{"line":34,"column":6},"generated":{"line":1,"column":998}},{"source":"helpers\\request.js","name":"readyState","original":{"line":34,"column":10},"generated":{"line":1,"column":1000}},{"source":"helpers\\request.js","original":{"line":34,"column":28},"generated":{"line":1,"column":1011}},{"source":"helpers\\request.js","name":"xml","original":{"line":35,"column":7},"generated":{"line":1,"column":1012}},{"source":"helpers\\request.js","original":{"line":35,"column":22},"generated":{"line":1,"column":1015}},{"source":"helpers\\request.js","name":"xml","original":{"line":35,"column":7},"generated":{"line":1,"column":1021}},{"source":"helpers\\request.js","name":"status","original":{"line":35,"column":11},"generated":{"line":1,"column":1023}},{"source":"helpers\\request.js","original":{"line":35,"column":27},"generated":{"line":1,"column":1030}},{"source":"helpers\\request.js","name":"data","original":{"line":36,"column":8},"generated":{"line":1,"column":1031}},{"source":"helpers\\request.js","name":"data","original":{"line":36,"column":8},"generated":{"line":1,"column":1035}},{"source":"helpers\\request.js","name":"JSON","original":{"line":36,"column":15},"generated":{"line":1,"column":1037}},{"source":"helpers\\request.js","name":"parse","original":{"line":36,"column":20},"generated":{"line":1,"column":1042}},{"source":"helpers\\request.js","name":"xml","original":{"line":36,"column":26},"generated":{"line":1,"column":1048}},{"source":"helpers\\request.js","name":"responseText","original":{"line":36,"column":30},"generated":{"line":1,"column":1050}},{"source":"helpers\\request.js","name":"code","original":{"line":37,"column":8},"generated":{"line":1,"column":1064}},{"source":"helpers\\request.js","name":"data","original":{"line":37,"column":15},"generated":{"line":1,"column":1066}},{"source":"helpers\\request.js","name":"code","original":{"line":37,"column":20},"generated":{"line":1,"column":1068}},{"source":"helpers\\request.js","original":{"line":38,"column":8},"generated":{"line":1,"column":1073}},{"source":"helpers\\request.js","name":"code","original":{"line":39,"column":9},"generated":{"line":1,"column":1077}},{"source":"helpers\\request.js","name":"undefined","original":{"line":39,"column":18},"generated":{"line":1,"column":1085}},{"source":"helpers\\request.js","name":"code","original":{"line":39,"column":9},"generated":{"line":1,"column":1089}},{"source":"helpers\\request.js","original":{"line":39,"column":29},"generated":{"line":1,"column":1091}},{"source":"helpers\\request.js","original":{"line":39,"column":35},"generated":{"line":1,"column":1097}},{"source":"helpers\\request.js","name":"Error","original":{"line":39,"column":39},"generated":{"line":1,"column":1101}},{"source":"helpers\\request.js","original":{"line":39,"column":45},"generated":{"line":1,"column":1107}},{"source":"helpers\\request.js","original":{"line":40,"column":6},"generated":{"line":1,"column":1130}},{"source":"helpers\\request.js","name":"e","original":{"line":40,"column":13},"generated":{"line":1,"column":1136}},{"source":"helpers\\request.js","original":{"line":41,"column":9},"generated":{"line":1,"column":1139}},{"source":"helpers\\request.js","name":"JSON","original":{"line":42,"column":13},"generated":{"line":1,"column":1143}},{"source":"helpers\\request.js","name":"JSON","original":{"line":42,"column":13},"generated":{"line":1,"column":1145}},{"source":"helpers\\request.js","name":"parse","original":{"line":42,"column":18},"generated":{"line":1,"column":1150}},{"source":"helpers\\request.js","name":"data","original":{"line":42,"column":24},"generated":{"line":1,"column":1156}},{"source":"helpers\\request.js","original":{"line":43,"column":7},"generated":{"line":1,"column":1159}},{"source":"helpers\\request.js","name":"e2","original":{"line":43,"column":14},"generated":{"line":1,"column":1165}},{"source":"helpers\\request.js","name":"error","original":{"line":44,"column":14},"generated":{"line":1,"column":1168}},{"source":"helpers\\request.js","name":"error","original":{"line":44,"column":14},"generated":{"line":1,"column":1176}},{"source":"helpers\\request.js","original":{"line":44,"column":20},"generated":{"line":1,"column":1182}},{"source":"helpers\\request.js","name":"data","original":{"line":45,"column":14},"generated":{"line":1,"column":1200}},{"source":"helpers\\request.js","name":"data","original":{"line":45,"column":14},"generated":{"line":1,"column":1202}},{"source":"helpers\\request.js","original":{"line":48,"column":32},"generated":{"line":1,"column":1206}},{"source":"helpers\\request.js","name":"parseInt","original":{"line":48,"column":8},"generated":{"line":1,"column":1212}},{"source":"helpers\\request.js","name":"data","original":{"line":48,"column":17},"generated":{"line":1,"column":1221}},{"source":"helpers\\request.js","name":"code","original":{"line":48,"column":22},"generated":{"line":1,"column":1223}},{"source":"helpers\\request.js","original":{"line":49,"column":22},"generated":{"line":1,"column":1230}},{"source":"helpers\\request.js","name":"data","original":{"line":49,"column":9},"generated":{"line":1,"column":1240}},{"source":"helpers\\request.js","name":"msg","original":{"line":49,"column":14},"generated":{"line":1,"column":1242}},{"source":"helpers\\request.js","original":{"line":49,"column":46},"generated":{"line":1,"column":1247}},{"source":"helpers\\request.js","name":"data","original":{"line":49,"column":33},"generated":{"line":1,"column":1256}},{"source":"helpers\\request.js","name":"msg","original":{"line":49,"column":38},"generated":{"line":1,"column":1258}},{"source":"helpers\\request.js","name":"success","original":{"line":50,"column":14},"generated":{"line":1,"column":1263}},{"source":"helpers\\request.js","name":"success","original":{"line":50,"column":14},"generated":{"line":1,"column":1265}},{"source":"helpers\\request.js","name":"success","original":{"line":50,"column":14},"generated":{"line":1,"column":1273}},{"source":"helpers\\request.js","name":"data","original":{"line":50,"column":22},"generated":{"line":1,"column":1281}},{"source":"helpers\\request.js","name":"msg","original":{"line":50,"column":27},"generated":{"line":1,"column":1283}},{"source":"helpers\\request.js","name":"data","original":{"line":52,"column":13},"generated":{"line":1,"column":1288}},{"source":"helpers\\request.js","name":"data","original":{"line":52,"column":13},"generated":{"line":1,"column":1290}},{"source":"helpers\\request.js","name":"error","original":{"line":54,"column":13},"generated":{"line":1,"column":1295}},{"source":"helpers\\request.js","name":"error","original":{"line":54,"column":13},"generated":{"line":1,"column":1297}},{"source":"helpers\\request.js","name":"error","original":{"line":54,"column":13},"generated":{"line":1,"column":1305}},{"source":"helpers\\request.js","name":"data","original":{"line":54,"column":19},"generated":{"line":1,"column":1311}},{"source":"helpers\\request.js","name":"msg","original":{"line":54,"column":24},"generated":{"line":1,"column":1313}},{"source":"helpers\\request.js","original":{"line":55,"column":22},"generated":{"line":1,"column":1318}},{"source":"helpers\\request.js","name":"data","original":{"line":55,"column":9},"generated":{"line":1,"column":1324}},{"source":"helpers\\request.js","name":"code","original":{"line":55,"column":14},"generated":{"line":1,"column":1326}},{"source":"helpers\\request.js","name":"push","original":{"line":56,"column":14},"generated":{"line":1,"column":1332}},{"source":"helpers\\request.js","name":"push","original":{"line":56,"column":14},"generated":{"line":1,"column":1334}},{"source":"helpers\\request.js","name":"push","original":{"line":56,"column":14},"generated":{"line":1,"column":1342}},{"source":"helpers\\request.js","original":{"line":56,"column":19},"generated":{"line":1,"column":1347}},{"source":"helpers\\request.js","name":"removeItem","original":{"line":57,"column":21},"generated":{"line":1,"column":1357}},{"source":"helpers\\request.js","name":"removeItem","original":{"line":57,"column":21},"generated":{"line":1,"column":1372}},{"source":"helpers\\request.js","original":{"line":57,"column":32},"generated":{"line":1,"column":1383}},{"source":"helpers\\request.js","name":"data","original":{"line":59,"column":11},"generated":{"line":1,"column":1392}},{"source":"helpers\\request.js","name":"data","original":{"line":59,"column":11},"generated":{"line":1,"column":1394}},{"source":"helpers\\request.js","original":{"line":63,"column":10},"generated":{"line":1,"column":1403}},{"source":"helpers\\request.js","original":{"line":63,"column":10},"generated":{"line":1,"column":1409}},{"source":"helpers\\request.js","name":"complete","original":{"line":65,"column":3},"generated":{"line":1,"column":1427}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":1433}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":1441}},{"source":"helpers\\request.js","name":"request","original":{"line":71,"column":15},"generated":{"line":1,"column":1449}}],"sources":{"helpers\\request.js":"import handleJson from './handle-json';\r\nimport handleFormData from './handle-formdata';\r\nimport handleUrlEncode from './handle-urlencode';\r\nimport history from '../history'\r\nimport { Modal,message } from \"antd\";\r\n\r\nfunction request({ url, method = 'POST', dataType = 'json', data = {}, success = () => { }, fail = () => { }, complete = () => { } }) {\r\n\tif (!url) {\r\n\t\tthrow new Error('url参数不可缺省');\r\n\t}\r\n\tlet xml = new XMLHttpRequest();\r\n\tif (method === 'GET') {\r\n\t\txml.open(method, url + '?' + handleUrlEncode(data));\r\n\t\txml.send();\r\n\t} else {\r\n\t\txml.open(method, url);\r\n\t\tlet dataData;\r\n\t\tswitch (dataType) {\r\n\t\t\tcase 'json':\r\n\t\t\t\txml.setRequestHeader('Content-Type', 'application/json');\r\n\t\t\t\tdataData = handleJson(data);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'formdata':\r\n\t\t\t\t// xml.setRequestHeader('Content-Type', \"application/vnd.ms-excel\");\r\n\t\t\t\tdataData = handleFormData(data);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\txml.setRequestHeader('Content-Type', 'application/json');\r\n\t\t\t\tdataData = handleJson(data);\r\n\t\t}\r\n\t\txml.send(dataData);\r\n\t}\r\n\txml.onreadystatechange = () => {\r\n\t\tif (xml.readyState === 4) {\r\n\t\t\tif (xml.status === 200) {\r\n\t\t\t\tlet data = JSON.parse(xml.responseText);\r\n\t\t\t\tlet code = data.code;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (code === undefined) throw new Error('code is not defined');\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tdata = JSON.parse(data);\r\n\t\t\t\t\t} catch (e2) {\r\n\t\t\t\t\t\tconsole.error('返回的数据不符合json格式');\r\n\t\t\t\t\t\tsuccess(data)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (parseInt(data.code) === 200) {\r\n\t\t\t\t\tif (data.msg !== '查询成功!' && data.msg !== '查询成功'){\r\n\t\t\t\t\t\tmessage.success(data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsuccess(data);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage.error(data.msg);\r\n\t\t\t\t\tif (data.code == 3001) {\r\n\t\t\t\t\t\thistory.push('/login');\r\n\t\t\t\t\t\tsessionStorage.removeItem('user')\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfail(data);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\talert('请求遇到了问题，请稍后再尝试');\r\n\t\t\t}\r\n\t\t\tcomplete();\r\n\t\t}\r\n\t};\r\n}\r\n\r\n\r\nexport default request;\r\n"},"lineCount":null}},"hash":"d8be8d9b3f6fd4db29bf4934b4e9ad58","cacheData":{"env":{}}}