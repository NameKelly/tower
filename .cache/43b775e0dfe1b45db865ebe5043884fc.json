{"id":"i9ns","dependencies":[{"name":"D:\\铁塔\\tower\\tower\\node_modules\\echarts\\package.json","includedInParent":true,"mtime":1576711643566},{"name":"D:\\铁塔\\tower\\tower\\package.json","includedInParent":true,"mtime":1577157021496},{"name":"D:\\铁塔\\tower\\tower\\.babelrc","includedInParent":true,"mtime":1576710174364},{"name":"../../visual/VisualMapping","loc":{"line":21,"column":28},"parent":"D:\\铁塔\\tower\\tower\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","resolved":"D:\\铁塔\\tower\\tower\\node_modules\\echarts\\lib\\visual\\VisualMapping.js"},{"name":"zrender/lib/core/util","loc":{"line":23,"column":21},"parent":"D:\\铁塔\\tower\\tower\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","resolved":"D:\\铁塔\\tower\\tower\\node_modules\\zrender\\lib\\core\\util.js"}],"generated":{"js":"var e=require(\"../../visual/VisualMapping\"),a=require(\"zrender/lib/core/util\");function t(t,l){t.eachSeriesByType(\"sankey\",function(t){var l=t.getGraph().nodes;if(l.length){var o=1/0,r=-1/0;a.each(l,function(e){var a=e.getLayout().value;a<o&&(o=a),a>r&&(r=a)}),a.each(l,function(a){var l=new e({type:\"color\",mappingMethod:\"linear\",dataExtent:[o,r],visual:t.get(\"color\")}).mapValueToVisual(a.getLayout().value);a.setVisual(\"color\",l);var i=a.getModel().get(\"itemStyle.color\");null!=i&&a.setVisual(\"color\",i)})}})}module.exports=t;","map":{"mappings":[{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":21,"column":0},"generated":{"line":1,"column":0}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":21,"column":0},"generated":{"line":1,"column":4}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":21,"column":0},"generated":{"line":1,"column":6}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":21,"column":0},"generated":{"line":1,"column":14}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":23,"column":0},"generated":{"line":1,"column":44}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":23,"column":0},"generated":{"line":1,"column":46}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":23,"column":0},"generated":{"line":1,"column":54}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":48,"column":0},"generated":{"line":1,"column":79}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":48,"column":0},"generated":{"line":1,"column":88}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":48,"column":0},"generated":{"line":1,"column":90}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":48,"column":0},"generated":{"line":1,"column":92}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":49,"column":0},"generated":{"line":1,"column":95}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":49,"column":0},"generated":{"line":1,"column":97}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":49,"column":0},"generated":{"line":1,"column":114}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":49,"column":0},"generated":{"line":1,"column":123}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":49,"column":0},"generated":{"line":1,"column":132}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":50,"column":0},"generated":{"line":1,"column":135}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":51,"column":0},"generated":{"line":1,"column":139}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":50,"column":0},"generated":{"line":1,"column":141}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":50,"column":0},"generated":{"line":1,"column":143}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":51,"column":0},"generated":{"line":1,"column":154}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":53,"column":0},"generated":{"line":1,"column":160}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":53,"column":0},"generated":{"line":1,"column":163}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":53,"column":0},"generated":{"line":1,"column":165}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":53,"column":0},"generated":{"line":1,"column":172}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":54,"column":0},"generated":{"line":1,"column":173}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":54,"column":0},"generated":{"line":1,"column":177}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":54,"column":0},"generated":{"line":1,"column":179}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":54,"column":0},"generated":{"line":1,"column":181}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":55,"column":0},"generated":{"line":1,"column":183}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":55,"column":0},"generated":{"line":1,"column":186}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":55,"column":0},"generated":{"line":1,"column":188}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":56,"column":0},"generated":{"line":1,"column":190}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":56,"column":0},"generated":{"line":1,"column":192}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":56,"column":0},"generated":{"line":1,"column":197}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":56,"column":0},"generated":{"line":1,"column":199}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":56,"column":0},"generated":{"line":1,"column":208}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":57,"column":0},"generated":{"line":1,"column":211}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":57,"column":0},"generated":{"line":1,"column":215}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":57,"column":0},"generated":{"line":1,"column":217}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":57,"column":0},"generated":{"line":1,"column":219}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":57,"column":0},"generated":{"line":1,"column":231}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":59,"column":0},"generated":{"line":1,"column":237}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":59,"column":0},"generated":{"line":1,"column":239}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":60,"column":0},"generated":{"line":1,"column":243}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":60,"column":0},"generated":{"line":1,"column":245}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":63,"column":0},"generated":{"line":1,"column":248}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":63,"column":0},"generated":{"line":1,"column":250}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":64,"column":0},"generated":{"line":1,"column":254}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":64,"column":0},"generated":{"line":1,"column":256}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":67,"column":0},"generated":{"line":1,"column":261}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":67,"column":0},"generated":{"line":1,"column":263}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":67,"column":0},"generated":{"line":1,"column":268}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":67,"column":0},"generated":{"line":1,"column":270}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":67,"column":0},"generated":{"line":1,"column":279}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":68,"column":0},"generated":{"line":1,"column":282}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":74,"column":0},"generated":{"line":1,"column":286}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":68,"column":0},"generated":{"line":1,"column":288}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":68,"column":0},"generated":{"line":1,"column":292}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":68,"column":0},"generated":{"line":1,"column":294}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":69,"column":0},"generated":{"line":1,"column":295}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":69,"column":0},"generated":{"line":1,"column":300}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":70,"column":0},"generated":{"line":1,"column":308}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":70,"column":0},"generated":{"line":1,"column":322}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":71,"column":0},"generated":{"line":1,"column":331}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":71,"column":0},"generated":{"line":1,"column":342}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":71,"column":0},"generated":{"line":1,"column":343}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":71,"column":0},"generated":{"line":1,"column":345}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":72,"column":0},"generated":{"line":1,"column":348}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":72,"column":0},"generated":{"line":1,"column":355}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":72,"column":0},"generated":{"line":1,"column":357}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":72,"column":0},"generated":{"line":1,"column":361}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":74,"column":0},"generated":{"line":1,"column":372}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":74,"column":0},"generated":{"line":1,"column":389}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":74,"column":0},"generated":{"line":1,"column":391}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":74,"column":0},"generated":{"line":1,"column":403}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":75,"column":0},"generated":{"line":1,"column":410}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":75,"column":0},"generated":{"line":1,"column":412}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":75,"column":0},"generated":{"line":1,"column":422}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":75,"column":0},"generated":{"line":1,"column":430}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":77,"column":0},"generated":{"line":1,"column":433}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":78,"column":0},"generated":{"line":1,"column":437}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":77,"column":0},"generated":{"line":1,"column":439}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":77,"column":0},"generated":{"line":1,"column":441}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":78,"column":0},"generated":{"line":1,"column":452}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":78,"column":0},"generated":{"line":1,"column":456}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":80,"column":0},"generated":{"line":1,"column":475}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":80,"column":0},"generated":{"line":1,"column":481}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":81,"column":0},"generated":{"line":1,"column":484}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":81,"column":0},"generated":{"line":1,"column":486}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":81,"column":0},"generated":{"line":1,"column":496}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":81,"column":0},"generated":{"line":1,"column":504}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":88,"column":0},"generated":{"line":1,"column":512}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":88,"column":0},"generated":{"line":1,"column":519}},{"source":"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js","original":{"line":88,"column":0},"generated":{"line":1,"column":527}}],"sources":{"..\\node_modules\\echarts\\lib\\chart\\sankey\\sankeyVisual.js":"\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar VisualMapping = require(\"../../visual/VisualMapping\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @file Visual encoding for sankey view\n * @author  Deqing Li(annong035@gmail.com)\n */\nfunction _default(ecModel, payload) {\n  ecModel.eachSeriesByType('sankey', function (seriesModel) {\n    var graph = seriesModel.getGraph();\n    var nodes = graph.nodes;\n\n    if (nodes.length) {\n      var minValue = Infinity;\n      var maxValue = -Infinity;\n      zrUtil.each(nodes, function (node) {\n        var nodeValue = node.getLayout().value;\n\n        if (nodeValue < minValue) {\n          minValue = nodeValue;\n        }\n\n        if (nodeValue > maxValue) {\n          maxValue = nodeValue;\n        }\n      });\n      zrUtil.each(nodes, function (node) {\n        var mapping = new VisualMapping({\n          type: 'color',\n          mappingMethod: 'linear',\n          dataExtent: [minValue, maxValue],\n          visual: seriesModel.get('color')\n        });\n        var mapValueToColor = mapping.mapValueToVisual(node.getLayout().value);\n        node.setVisual('color', mapValueToColor); // If set itemStyle.normal.color\n\n        var itemModel = node.getModel();\n        var customColor = itemModel.get('itemStyle.color');\n\n        if (customColor != null) {\n          node.setVisual('color', customColor);\n        }\n      });\n    }\n  });\n}\n\nmodule.exports = _default;"},"lineCount":null}},"hash":"cd24f73008385202c9b258d6b1a9f079","cacheData":{"env":{}}}